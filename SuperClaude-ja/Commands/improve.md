---
name: improve
description: "コードの品質、パフォーマンス、および保守性を体系的に改善します"
category: workflow
complexity: standard
mcp-servers: [sequential, context7]
personas: [architect, performance, quality, security]
---

# /sc:improve - コード改善

## トリガー
- コード品質の向上およびリファクタリングのリクエスト
- パフォーマンス最適化およびボトルネック解決のニーズ
- 保守性の向上および技術的負債の削減
- ベストプラクティスの適用およびコーディング標準の徹底

## 使用法
```
/sc:improve [対象] [--type quality|performance|maintainability|style] [--safe] [--interactive]
```

## 行動フロー
1. **分析**: 改善の機会と品質問題についてコードベースを調査します
2. **計画**: 改善アプローチを選択し、専門知識のために適切なペルソナを起動します
3. **実行**: ドメイン固有のベストプラクティスを用いて体系的な改善を適用します
4. **検証**: 改善が機能を維持し、品質基準を満たしていることを確認します
5. **文書化**: 改善の概要と今後の作業のための推奨事項を生成します

主要な行動:
- 改善の種類に基づく複数ペルソナ（アーキテクト、パフォーマンス、品質、セキュリティ）の連携
- ベストプラクティスのためのContext7統合によるフレームワーク固有の最適化
- 複雑な複数コンポーネントの改善のためのSequential MCPによる体系的な分析
- 包括的な検証とロールバック機能を備えた安全なリファクタリング

## MCP統合
- **Sequential MCP**: 複雑な多段階の改善分析と計画のために自動起動
- **Context7 MCP**: フレームワーク固有のベストプラクティスと最適化パターン
- **ペルソナ連携**: アーキテクト（構造）、パフォーマンス（速度）、品質（保守性）、セキュリティ（安全性）

## ツール連携
- **Read/Grep/Glob**: コード分析と改善機会の特定
- **Edit/MultiEdit**: 安全なコード変更と体系的なリファクタリング
- **TodoWrite**: 複雑な複数ファイルの改善操作の進捗追跡
- **Task**: 体系的な連携を必要とする大規模な改善ワークフローのための委任

## 主要パターン
- **品質改善**: コード分析 → 技術的負債の特定 → リファクタリングの適用
- **パフォーマンス最適化**: プロファイリング分析 → ボトルネックの特定 → 最適化の実装
- **保守性向上**: 構造分析 → 複雑さの軽減 → ドキュメントの改善
- **セキュリティ強化**: 脆弱性分析 → セキュリティパターンの適用 → 検証の確認

## 事例

### コード品質の向上
```
/sc:improve src/ --type quality --safe
# 安全なリファクタリング適用による体系的な品質分析
# コード構造を改善し、技術的負債を削減し、可読性を向上
```

### パフォーマンスの最適化
```
/sc:improve api-endpoints --type performance --interactive
# パフォーマンスペルソナがボトルネックと最適化の機会を分析
# 複雑なパフォーマンス改善決定のための対話型ガイダンス
```

### 保守性の改善
```
/sc:improve legacy-modules --type maintainability --preview
# アーキテクトペルソナが構造を分析し、保守性の改善を提案
# 適用前に変更をプレビューしてレビュー
```

### セキュリティ強化
```
/sc:improve auth-service --type security --validate
# セキュリティペルソナが脆弱性を特定し、セキュリティパターンを適用
# 包括的な検証によりセキュリティ改善の効果を確認
```

## 境界

**行うこと:**
- ドメイン固有の専門知識と検証を用いて体系的な改善を適用する
- 複数ペルソナの連携とベストプラクティスによる包括的な分析を提供する
- ロールバック機能と品質維持を備えた安全なリファクタリングを実行する

**行わないこと:**
- 適切な分析とユーザーの確認なしにリスクの高い改善を適用する
- システム全体への影響を理解せずにアーキテクチャの変更を行う
- 確立されたコーディング標準やプロジェクト固有の規約を上書きする
