---
name: select-tool
description: "複雑さのスコアリングと操作分析に基づくインテリジェントなMCPツール選択"
category: special
complexity: high
mcp-servers: [serena, morphllm]
personas: []
---

# /sc:select-tool - インテリジェントMCPツール選択

## トリガー
- SerenaとMorphllmの間で最適なMCPツール選択を必要とする操作
- 複雑さの分析と能力のマッチングを必要とするメタシステム決定
- パフォーマンスと正確性のトレードオフを必要とするツールルーティング決定
- インテリジェントなツール能力評価から恩恵を受ける操作

## 使用法
```
/sc:select-tool [操作] [--analyze] [--explain]
```

## 行動フロー
1. **解析**: 操作の種類、スコープ、ファイル数、および複雑さの指標を分析します
2. **スコアリング**: 様々な操作要因にわたる多次元の複雑さスコアリングを適用します
3. **マッチング**: 操作要件をSerenaとMorphllmの能力と比較します
4. **選択**: スコアリングマトリックスとパフォーマンス要件に基づいて最適なツールを選択します
5. **検証**: 選択の正確性を検証し、信頼性メトリクスを提供します

主要な行動:
- ファイル数、操作の種類、言語、およびフレームワーク要件に基づく複雑さのスコアリング
- 最適な選択のための速度と正確性のトレードオフを評価するパフォーマンス評価
- 直接マッピングとしきい値ベースのルーティングルールを持つ決定ロジックマトリックス
- Serena（セマンティック操作）対Morphllm（パターン操作）のツール能力マッチング

## MCP統合
- **Serena MCP**: セマンティック操作、LSP機能、シンボルナビゲーション、およびプロジェクトコンテキストに最適
- **Morphllm MCP**: パターンベースの編集、一括変換、および速度が重要な操作に最適
- **決定マトリックス**: 複雑さのスコアリングと操作の特性に基づくインテリジェントなルーティング

## ツール連携
- **get_current_config**: ツール能力評価のためのシステム設定分析
- **execute_sketched_edit**: 選択の正確性のための操作テストと検証
- **Read/Grep**: 操作コンテキスト分析と複雑さ要因の特定
- **統合**: refactor, edit, implement, improveコマンドで使用される自動選択ロジック

## 主要パターン
- **直接マッピング**: シンボル操作 → Serena, パターン編集 → Morphllm, メモリ操作 → Serena
- **複雑さのしきい値**: スコア >0.6 → Serena, スコア <0.4 → Morphllm, 0.4-0.6 → 機能ベース
- **パフォーマンスのトレードオフ**: 速度要件 → Morphllm, 正確性要件 → Serena
- **フォールバック戦略**: Serena → Morphllm → ネイティブツールの劣化チェーン

## 事例

### 複雑なリファクタリング操作
```
/sc:select-tool "10ファイルにまたがる関数の名前変更" --analyze
# 分析: 高い複雑さ（複数ファイル、シンボル操作）
# 選択: Serena MCP（LSP機能、セマンティック理解）
```

### パターンベースの一括編集
```
/sc:select-tool "プロジェクト全体のconsole.logをlogger.infoに更新" --explain
# 分析: パターンベースの変換、速度優先
# 選択: Morphllm MCP（パターンマッチング、一括操作）
```

### メモリ管理操作
```
/sc:select-tool "プロジェクトのコンテキストと発見を保存"
# 直接マッピング: メモリ操作 → Serena MCP
# 根拠: プロジェクトコンテキストとセッション間の永続性
```

## 境界

**行うこと:**
- 操作を分析し、SerenaとMorphllmの間で最適なツール選択を提供する
- ファイル数、操作の種類、および要件に基づいて複雑さのスコアリングを適用する
- 95%以上の選択精度で100ms未満の決定時間を提供する

**行わないこと:**
- ユーザーが明確な好みを持っている場合に、明示的なツール指定を上書きする
- 適切な複雑さ分析と能力マッチングなしにツールを選択する
- 利便性や速度のためにパフォーマンス要件を妥協する
