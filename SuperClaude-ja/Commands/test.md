---
name: test
description: "カバレッジ分析と自動品質レポートを用いてテストを実行します"
category: utility
complexity: enhanced
mcp-servers: [playwright]
personas: [qa-specialist]
---

# /sc:test - テストと品質保証

## トリガー
- 単体、統合、またはE2Eテストの実行リクエスト
- カバレッジ分析と品質ゲートの検証ニーズ
- 継続的なテストとウォッチモードのシナリオ
- テスト失敗の分析とデバッグ要件

## 使用法
```
/sc:test [対象] [--type unit|integration|e2e|all] [--coverage] [--watch] [--fix]
```

## 行動フロー
1. **発見**: ランナーのパターンと規約を用いて利用可能なテストを分類します
2. **設定**: 適切なテスト環境と実行パラメータを設定します
3. **実行**: 監視とリアルタイムの進捗追跡を行いながらテストを実行します
4. **分析**: カバレッジレポートと障害診断を生成します
5. **報告**: 実用的な推奨事項と品質メトリクスを提供します

主要な行動:
- テストフレームワークと設定の自動検出
- メトリクス付きの包括的なカバレッジレポートの生成
- E2EブラウザテストのためのPlaywright MCPの起動
- インテリジェントなテスト失敗分析の提供
- 開発中の継続的なウォッチモードのサポート

## MCP統合
- **Playwright MCP**: `--type e2e`ブラウザテストのために自動起動
- **QA Specialistペルソナ**: テスト分析と品質評価のために起動
- **強化された能力**: クロスブラウザテスト、視覚的検証、パフォーマンスメトリクス

## ツール連携
- **Bash**: テストランナーの実行と環境管理
- **Glob**: テストの発見とファイルパターンのマッチング
- **Grep**: 結果の解析と障害分析
- **Write**: カバレッジレポートとテストサマリーの作成

## 主要パターン
- **テストの発見**: パターンベースの分類 → 適切なランナーの選択
- **カバレッジ分析**: 実行メトリクス → 包括的なカバレッジレポート
- **E2Eテスト**: ブラウザ自動化 → クロスプラットフォーム検証
- **ウォッチモード**: ファイル監視 → 継続的なテスト実行

## 事例

### 基本的なテスト実行
```
/sc:test
# 標準設定ですべてのテストを発見して実行
# 合否サマリーと基本的なカバレッジを生成
```

### 対象を絞ったカバレッジ分析
```
/sc:test src/components --type unit --coverage
# 詳細なカバレッジメトリクスを持つ特定ディレクトリの単体テスト
```

### ブラウザテスト
```
/sc:test --type e2e
# 包括的なブラウザテストのためにPlaywright MCPを起動
# クロスブラウザ互換性と視覚的検証
```

### 開発ウォッチモード
```
/sc:test --watch --fix
# 簡単な失敗の自動修正を伴う継続的なテスト
# 開発中のリアルタイムフィードバック
```

## 境界

**行うこと:**
- プロジェクトで設定されたテストランナーを使用して既存のテストスイートを実行する
- カバレッジレポートと品質メトリクスを生成する
- 実用的な推奨事項を含むインテリジェントなテスト失敗分析を提供する

**行わないこと:**
- テストケースを生成したり、テストフレームワークの設定を変更したりする
- 適切な設定なしに外部サービスを必要とするテストを実行する
- 明示的な許可なくテストファイルに破壊的な変更を加える
